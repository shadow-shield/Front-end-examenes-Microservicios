<div class="card text-bg-light mb-3">
  <div class="card-header">
    <h1>{{titulo}}</h1>
  </div>
  <div class="card-body">
    <div class="form-floating mb-3">
      <input type="text" name="nombre" class="form-control" placeholder="Nombre" [(ngModel)]="model.nombre" id="nombre">
      <div class="alert alert-danger" *ngIf="errores && errores.nombre">
        {{errores.nombre}}
      </div>
      <label for="nombre">Nombre</label>
    </div>
     <div class="form-group">
      <label for="asignaturapadre">Asignatura</label>
      <select class="form-control my-3" (change)="cargarHijos()" [compareWith]="compararAsignatura"  [(ngModel)]="model.asignaturapadre" name="asignaturapadre" id="asignaturapadre">
        <option [ngValue]="undefined" >Seleccione una asignatura</option>
        <option *ngFor="let asignatura of asignaturapadre" [ngValue]="asignatura">{{asignatura.nombre}}</option>
      </select>
      <div class="alert alert-danger" *ngIf="errores && errores?.asignaturapadre">
        {{errores.asignaturapadre}}
      </div>
     </div>
     <div class="form-group">
      <label for="asignaturahijo">Asignatura Hija</label>
      <select class="form-control my-3" [compareWith]="compararAsignatura"  [(ngModel)]="model.asignaturahijo" name="asignaturahijo" id="asignaturahijo">
        <option [ngValue]="undefined" >Seleccione una asignatura</option>
        <option *ngFor="let asignatura of asignaturahijo" [ngValue]="asignatura">{{asignatura.nombre}}</option>
      </select>

      <div class="alert alert-danger" *ngIf="errores && errores?.asignaturahijo">
        {{errores.asignaturahijo}}
      </div>
     </div>
     <button class="btn btn-light btn-lg my-3"  (click)="agregarPregunta()">Agregar Pregunta</button>
      <div class="form-group" *ngFor="let pregunta of  model.preguntas; let i=index">
        <div class="row my-4">
          <div class="col-sm-2">
             <label>Pregunta {{i+1}}:</label>
          </div>
          <div class="col-sm-6">
            <input type="text" class="form-control" value="{{pregunta.texto}}" (change)="asigntarTexto(pregunta,$event)">
          </div>
          <div class="col-sm-1">
            <button class="btn btn-danger btn-sm" (click)="eliminarPregunta(pregunta)">
              x
            </button>
          </div>
        </div>
      </div>
    <div class="form-group d-flex justify-content-end gap-3">
      <button class="btn btn-danger my-4" routerLink="/examenes">Volver</button>
      <button type="button" class="btn btn-success my-4" (click)="model.id? editar(): crear()">{{model.id ? 'Editar'
        :'Guardar'}}</button>

    </div>

  </div>
</div>
